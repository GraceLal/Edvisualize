<!--@author: Anushree Ninave
	Group No: A-15
	Roll no: 2
	Registration Number:18010499
	@author: Vinaya Wahekar
	Group No: A-15
	Roll no: 22
	Registration Number:18010704
-->

<!DOCTYPE html>
<html>
	<head>

		
		<title>EdVisualise: LALR(1) Parser Generator</title>
		<style>
		body { background-color: #000; }
		
		td { horizontal-align: middle; vertical-align: top; white-space: nowrap; }
		th { white-space: nowrap; }
		.chupao{
			display: none;
		}
		</style>
		<script language="javascript" src="js/underscore.js"></script>
		<script language="javascript" src="js/tools.js"></script>
		<script language="javascript" src="js/grammar.js"></script>
		<script language="javascript" src="js/grammarview.js"></script>
		<script language="javascript" src="js/lalr1item.js"></script>
		<script language="javascript" src="js/lrclosuretable.js"></script>
		<script language="javascript" src="js/lrclosuretableview.js"></script>
		<script language="javascript" src="js/tree.js"></script>
		<script language="javascript" src="js/treeview.js"></script>
		<script language="javascript" src="js/lrtable.js"></script>
		<script language="javascript" src="js/lrtableview.js"></script>
		<script language="javascript" src="js/lrparseview.js"></script>
		

		<!-- css sheet for how the page is laid out -->
		<style>
			#next{
				text-decoration: none;
				font-size: medium;
			}
			#nextbtn{
				margin-left: 46%;
				width: 100px;
				height: 50px;
				border-radius: 5px;
			}
		</style>

		<link rel="stylesheet" href="visualizationPageStyle.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">

		
	 </head>

	<body onload="init();"  class="VisualizationMainPage">
	<!-- Sidebar -->
	<div class="vis-sidebar vis-bar-block vis-border-right" style="display:none" id="mySidebar">

		<button onclick="vis_close()" class="vis-bar-item vis-large">Close &times;</button>
		<h4 class="sidebar-h4">Data Structures &amp; Algorithms</h4>
		<a href="../../Algorithms/Sorting/ComparisonSort.html" class="vis-bar-item vis-button">Comparision
			Sort</a>
		<a href="../../Algorithms/Sorting/HeapSort.html" class="vis-bar-item vis-button">Heap Sort</a>
		<a href="../../Algorithms/Graph/BFS.html" class="vis-bar-item vis-button">Breadth First Search</a>
		<a href="../../Algorithms/Graph/DFS.html" class="vis-bar-item vis-button">Depth First Search</a>
		<a href="../../Algorithms/Graph/Dijkstra.html" class="vis-bar-item vis-button">Dijkstra</a>
		<a href="../../Algorithms/Tree/BST.html" class="vis-bar-item vis-button">Binary Search Tree</a>
		<h4 class="sidebar-h4">Statistical Graphs</h4>
		<a href="../../Data visualization/barChart/barChart.html" class="vis-bar-item vis-button">Bar Chart</a>
		<a href="../../Data visualization/horizontalbarChart/horizontalbarChart.html"
			class="vis-bar-item vis-button">Horizontal Bar Chart</a>
		<a href="../../Data visualization/DoughnutChart/doughnutChart.html" class="vis-bar-item vis-button">Doughnut
			Chart</a>
		<a href="../../Data visualization/piechart/pieChart.html" class="vis-bar-item vis-button">Pie Chart</a>
		<a href="../../Data visualization/lineChart/lineChart.html" class="vis-bar-item vis-button">Line
			Chart</a>
		<a href="../../Data visualization/RadarChart/RadarChart.html" class="vis-bar-item vis-button">Radar
			Chart</a>
		<h4 class="sidebar-h4">Neural Network</h4>
		<a href="../../NN/index.html" class="vis-bar-item vis-button">Neural Network</a>
		<h4 class="sidebar-h4">Compiler Design Parsers</h4>
		<a href="../../Parsers/ll1_styled_pg1.html" class="vis-bar-item vis-button">LL1 Parser</a>
		<a href="../../Parsers/slr_styled_pg1.html" class="vis-bar-item vis-button">SLR-Parsing Table</a>
		<a href="../../Parsers/slr_styled_pg2.html" class="vis-bar-item vis-button">SLR-Parse Tree and Stack
			Trace </a>
		<a href="../../Parsers/lr1_stye_pg1.html" class="vis-bar-item vis-button">LR1-Parsing Table</a>
		<a href="../../Parsers/lr1_stye_pg2.html" class="vis-bar-item vis-button">LR1-Parse Tree and Stack Trace
		</a>
		<a href="../../Parsers/lalr1_styled_pg1.html" class="vis-bar-item vis-button">LALR-Parsing Table</a>
		<a href="../../Parsers/lalr1_styled_pg2.html" class="vis-bar-item vis-button">LALR-Parse Tree and Stack
			Trace
		</a>
		<h4 class="sidebar-h4">Learn More</h4>
		<a href="../../documentation/algorithm.html" class="vis-bar-item vis-button">Data Structures &amp;
			Algorithms</a>
		<a href="../../documentation/DataVisualisation.html" class="vis-bar-item vis-button">Statistical
			Graphs</a>
		<a href="../../documentation/nn.html" class="vis-bar-item vis-button">Neural Network</a>

	</div>



	<!-- Fixed navigation bar content -->
	<nav class="fixed-nav-bar">
	<div class="topnav">
	  <div class="vis-teal">
	  <button class="vis-button vis-teal vis-xlarge" onclick="vis_open()">â˜°</button>
	  <div class="logo"><img src="/logo.png" alt="logo"></div>
	  <div class="topnav-right">
	  <a href="/index.html">Home</a>
	  <div class="dropdown">
        <button class="dropbtn">Learn More
         
        </button>
        <div class="dropdown-content">
			<a href="../../documentation/algorithm.html" class="vis-bar-item vis-button">Data
				<br>Structures <br> &amp;
				Algorithms</a>
			<a href="../../documentation/DataVisualisation.html"
				class="vis-bar-item vis-button vis-justify">Statistical
				<br>Graphs</a>
			<a href="../../documentation/nn.html"
				class="vis-bar-item vis-button vis-justify">Neural<br>Network</a>
        </div>
      </div> 
	  </div>
	</div>

	</div>
  </nav>
  <div id="header">  
	<h1>LALR1 -Parse Tree and Stack Trace</h1>
</div>
<div id="parsercontent">
	<script language="javascript">


		var lrTable;
		
		function grammarChanged() {
			displayRuleIndices();
			
			var grammar = new Grammar($('grammar').value);
			var lrClosureTable = new LRClosureTable(grammar);
			lrTable = new LRTable(lrClosureTable);
		
			$('firstFollowView').innerHTML = formatFirstFollow(grammar);
			$('lrClosureTableView').innerHTML = formatLRClosureTable(lrClosureTable);
			$('lrTableView').innerHTML = formatLRTable(lrTable);
			
			parseInput();
		}
		
		// -->
		</script>
		<table><tbody><tr><td>
			<div id="grammarView"></div>
			<br>
			<div id="firstFollowView" class="chupao"></div>
		</td><td>
			<br>
			<input type="button" value="&gt;&gt;">
		</td><td>
			<div style="height: 100%; overflow: auto;">
				<div id="lrClosureTableView" class="chupao"></div>
				<br><br>
				<table border="1" cellpadding="8"><tbody><tr><td>
					<div id="lrTableView"></div>
					</td><td>
					<div id="lrParseView"></div>
				</td></tr></tbody></table>
			</div>
		</td></tr></tbody></table>
		</body>
		<script language="javascript">
		
		
		// <TEST>
		
		{
			/*
			 * (0) A' -> A
			 * (1) A -> a A
			 * (2) A -> a
			 *
			 * FIRST(A') = { a }
			 * FIRST(A) = { a }
			 */
			var grammar = new Grammar('A\' -> A\nA -> a A\nA -> a');
			
			assertEquality('A\'', grammar.axiom);
			assertEquality(3, grammar.rules.length);
			assertEquality(['a'].toString(), grammar.firsts['A'].toString());
			
			assertEquals(new Item(new Rule(grammar, 'A -> a A'), 1), new Item(new Rule(grammar, 'A -> a A'), 1));
			assertEquality(0, indexOfUsingEquals(new Item(new Rule(grammar, 'A -> a A'), 1), [new Item(new Rule(grammar, 'A -> a A'), 1)]));
			
			/*
			 *              closure { [A' -> .A, $] }               = 0 = { [A' -> .A, $]; [A -> .a A, $]; [A -> .a, $] }
			 * goto(0, A) = closure { [A' -> A., $] }               = 1 = { [A' -> A., $] }
			 * goto(0, a) = closure { [A -> a.A, $]; [A -> a., $] } = 2 = { [A -> a.A, $]; [A -> a., $]; [A -> .a A, $]; [A -> .a, $] }
			 * goto(2, A) = closure { [A -> a A., $] }              = 3 = { [A -> a A., $] }
			 * goto(2, a) = closure { [A -> a.A, $]; [A -> a., $] } = 2
			 */
			var lrClosureTable = new LRClosureTable(grammar);
			
			assertEquality(3, lrClosureTable.kernels[0].closure.length);
			assertEquality(4, lrClosureTable.kernels.length);
			
			/*
			 *   a  $  A' A
			 * 0 s2       1
			 * 1    r0
			 * 2    r2    3
			 * 3 s2 r1
			 */
			var lrTable = new LRTable(lrClosureTable);
			
			assertEquality(4, lrTable.states.length);
			assertEquality('s2', lrTable.states[0]['a']);
			assertEquality('r0', lrTable.states[1]['$']);
			assertEquality('r2', lrTable.states[2]['$']);
			assertEquality('3', lrTable.states[2]['A']);
			assertEquality('r1', lrTable.states[3]['$']);
		}
		
		{
			/*
			 * (0) A' -> A
			 * (1) A -> B
			 * (2) A -> ''
			 * (3) B -> ( A )
			 *
			 * FIRST(A') = { '', ( }
			 * FIRST(A) = { '', ( }
			 * FIRST(B) = { ( }
			 */
			var grammar = new Grammar('A\' -> A\nA -> B\nA -> \'\'\nB -> ( A )');
			
			assertEquality('A\'', grammar.axiom);
			assertEquality(4, grammar.rules.length);
			assertEquality([EPSILON, '('].toString(), grammar.firsts['A'].toString());
			assertEquality('[A -> .b, ]', new Item(new Rule(grammar, 'A -> b'), 0).toString());
			
			/*
			 *              closure { [A' -> .A, $] }      =  0 = { [A' -> .A, $]; [A -> .B, $]; [A -> ., $]; [B -> .( A ), $] }
			 * goto(0, A) = closure { [A' -> A., $] }      =  1 = { [A' -> A., $] }
			 * goto(0, B) = closure { [A -> B., $/)] }     =  2 = { [A -> B., $/)] }
			 * goto(0, () = closure { [B -> (.A ), $/)] }  =  3 = { [B -> (.A ), $/)]; [A -> .B, )]; [A -> ., )]; [B -> .( A ), )] }
			 * goto(3, A) = closure { [B -> ( A.), $] }    =  4 = { [B -> ( A.), $] }
			 * goto(3, B) = closure { [A -> B., )] }       -> 2
			 * goto(3, () = closure { [B -> (.A ), )] }    -> 3
			 * goto(4, )) = closure { [B -> ( A )., $/)] } =  5 = { [B -> ( A )., $/)] }
			 */
			var lrClosureTable = new LRClosureTable(grammar);
			
			assertEquality(4, lrClosureTable.kernels[0].closure.length);
			assertEquality(6, lrClosureTable.kernels.length);
			
			/*
			 *   (  )  $  A' A B
			 * 0 s3    r2    1 2
			 * 1       r0
			 * 2    r1 r1
			 * 3 s3 r2       4 2
			 * 4    s5
			 * 5    r3 r3
			 */
			var lrTable = new LRTable(lrClosureTable);
			
			assertEquality(6, lrTable.states.length);
			assertEquality('s3', lrTable.states[0]['(']);
			assertEquality('r2', lrTable.states[0]['$']);
			assertEquality('1', lrTable.states[0]['A']);
			assertEquality('2', lrTable.states[0]['B']);
			assertEquality('r0', lrTable.states[1]['$']);
			assertEquality('r1', lrTable.states[2][')']);
			assertEquality('r1', lrTable.states[2]['$']);
			assertEquality('s3', lrTable.states[3]['(']);
			assertEquality('r2', lrTable.states[3][')']);
			assertEquality('4', lrTable.states[3]['A']);
			assertEquality('2', lrTable.states[3]['B']);
			assertEquality('r3', lrTable.states[5][')']);
			assertEquality('r3', lrTable.states[5]['$']);
		}
		
		// </TEST>
		
		// <INITIALIZATION>
		
		{
			var grammar = new Grammar('S\' -> S\n\
		S -> C C\n\
		C -> c C\n\
		C -> d');
		
			$('grammarView').innerHTML = formatGrammar(grammar);
		}
		
		$('lrParseView').innerHTML = formatInitialParseView('c d d', 100);
		
		grammarChanged();
		
		// </INITIALIZATION>
		
		// -->
		</script>
</div>

		<!-- Footer -->
	<footer class="vis-center vis-black vis-padding-16">
		<div class="footerv row">
		<div class="column">
			<div class="container">
			<p><img height="80px" src="/logo.png"alt="footer-logo"> </p>
			</div>
		</div>
		<div class="column">
      <div class="container" id="cus">
        <h4><b>Contact Us</b></h4>
		<p class="contactus"><a href="https://www.linkedin.com/in/anushree-ninave-18374a1b3/"
			target="_blank">@Anushree</a> <a href="https://twitter.com/DeshpandeDevang"
			target="_blank">@Devang</a>
		<a href="https://www.linkedin.com/in/grace-lal5/" target="_blank">@Grace</a> <a
			href="https://www.linkedin.com/in/vinaya-wahekar-076857193/" target="_blank">@Vinaya</a><br>
		<span>Best viewed in 1920x1080</span>
	</p>
      </div>
      </div>
	  <div class="column">
		<div class="container">
		  <p><img class="iconimg" width="45px" src="/github.png"alt="github-logo"><a href="https://github.com/GraceLal/Edvisualize" target="_blank"> Github</a></p>
		</div>
	  </div>
		</div>

	</footer>


  <script>
  function vis_open() {
	document.getElementById("mySidebar").style.display = "block";
  }

  function vis_close() {
	document.getElementById("mySidebar").style.display = "none";
  }
  </script>
	</body>
</html>
